<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="projectstyles.css">
    <link rel="stylesheet" href="../modalstyles.css">

    <title>Projects Page</title>
</head>
<body>
    <div class="itemIconContainer">
        <div class="itemIcon">
            <a href="../index.html">
                <img src="../desktopimg/homeicon.png" title="Home" style="width: 60px">
            </a>
        </div>
        </div>

    

    
    <!-- Project Windows (4 x 3 grid, draggable) -->
    <div class="modal-content project-window" id="project1Modaldrag">
        <div class="modal-header" id="project1Modaldragheader">
            <div class="modal-header-text">Project 1</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 1 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <div class="modal-content project-window" id="project2Modaldrag">
        <div class="modal-header" id="project2Modaldragheader">
            <div class="modal-header-text">Project 2</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 2 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <div class="modal-content project-window" id="project3Modaldrag">
        <div class="modal-header" id="project3Modaldragheader">
            <div class="modal-header-text">Project 3</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 3 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <div class="modal-content project-window" id="project4Modaldrag">
        <div class="modal-header" id="project4Modaldragheader">
            <div class="modal-header-text">Project 4</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 4 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <div class="modal-content project-window" id="project5Modaldrag">
        <div class="modal-header" id="project5Modaldragheader">
            <div class="modal-header-text">Project 5</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 5 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <div class="modal-content project-window" id="project6Modaldrag">
        <div class="modal-header" id="project6Modaldragheader">
            <div class="modal-header-text">Project 6</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 6 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <div class="modal-content project-window" id="project7Modaldrag">
        <div class="modal-header" id="project7Modaldragheader">
            <div class="modal-header-text">Project 7</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 7 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <div class="modal-content project-window" id="project8Modaldrag">
        <div class="modal-header" id="project8Modaldragheader">
            <div class="modal-header-text">Project 8</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 8 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <div class="modal-content project-window" id="project9Modaldrag">
        <div class="modal-header" id="project9Modaldragheader">
            <div class="modal-header-text">Project 9</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 9 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <div class="modal-content project-window" id="project10Modaldrag">
        <div class="modal-header" id="project10Modaldragheader">
            <div class="modal-header-text">Project 10</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 10 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <div class="modal-content project-window" id="project11Modaldrag">
        <div class="modal-header" id="project11Modaldragheader">
            <div class="modal-header-text">Project 11</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 11 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <div class="modal-content project-window" id="project12Modaldrag">
        <div class="modal-header" id="project12Modaldragheader">
            <div class="modal-header-text">Project 12</div>
            <div class="close-container"><div class="close" title="Close">x</div></div>
        </div>
        <div class="modal-body">
            <div class="media-container">
                <img class="media project-banner" src="../desktopimg/homeicon.png" alt="Project 12 banner">
            </div>
            <div class="modal-body-text">
                <p>Short description of a placeholder project.</p>
                <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub Link</a>
            </div>
        </div>
    </div>

    <script src="../modal.js" defer></script>
    <script src="../explorer.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var cols = 4, rows = 3;
            var windows = [];
            for (var i = 1; i <= 12; i++) {
                var el = document.getElementById('project' + i + 'Modaldrag');
                if (el) {
                    windows.push(el);
                }
            }

            if (!windows.length) return;

            // Attach close handlers (stop drag when clicking X)
            document.querySelectorAll('.project-window .close').forEach(function(btn){
                btn.addEventListener('click', function(e){
                    e.preventDefault();
                    e.stopPropagation();
                    var card = btn.closest('.project-window');
                    if (card) card.style.display = 'none';
                });
            });

            function layout() {
                var vw = window.innerWidth;
                var vh = window.innerHeight;

                // Leave room for the desktop icons on top-left
                var leftMargin = 200;
                var rightMargin = 20;
                var topMargin = 100;
                var bottomMargin = 20;

                var availW = Math.max(0, vw - leftMargin - rightMargin);
                var availH = Math.max(0, vh - topMargin - bottomMargin);

                // Gaps scale with viewport but have minimums
                var gapX = Math.max(8, Math.round(vw * 0.02));
                var gapY = Math.max(8, Math.round(vh * 0.02));

                // Compute window size to fit exactly without scroll slack
                var w = Math.floor((availW - (cols - 1) * gapX) / cols);
                var h = Math.floor((availH - (rows - 1) * gapY) / rows);

                // Safety clamps
                if (w < 120) { w = 120; gapX = Math.max(4, Math.floor((availW - cols * w) / Math.max(1, (cols - 1)))); }
                if (h < 100) { h = 100; gapY = Math.max(4, Math.floor((availH - rows * h) / Math.max(1, (rows - 1)))); }

                windows.forEach(function (el, idx) {
                    var row = Math.floor(idx / cols);
                    var col = idx % cols;

                    el.style.position = 'absolute';
                    el.style.width = w + 'px';
                    el.style.height = h + 'px';
                    el.style.left = (leftMargin + col * (w + gapX)) + 'px';
                    el.style.top = (topMargin + row * (h + gapY)) + 'px';

                    if (typeof dragElement === 'function') {
                        dragElement(el);
                    }
                });
            }

            layout();
            window.addEventListener('resize', layout);
        });
    </script>
    <div class="fgbg"></div>

</body>

</html>